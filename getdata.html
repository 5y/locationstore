<html>
<head>
  <title>test</title>
</head>
<body>

  <button onclick="Test()">Try It</button>
  <div id="status"></div>


<script>
var options = {
	enableHighAccuracy: false,
	timeout: 5000,
	maximumAge: 0
};
function Test() {
  navigator.geolocation.watchPosition	(function(position) {
  var hr = new XMLHttpRequest();
  console.log(position.coords.latitude);
  // var url = "xhr.php";
  var lat = "lat"+position.coords.latitude;
  var lan = "long"+position.coords.longitude;
  // var vars = lat+lan;
  var vars = "lat="+lat+"&lan="+lan;
  hr.open("POST", "ajax1.php", true);

  hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

  hr.onreadystatechange = function() {
     if(hr.readyState == 4 && hr.status == 200) {
       var return_data = hr.responseText;
     document.getElementById("status").innerHTML = return_data;
   }}
  hr.send(vars); // Actually execute the request
  document.getElementById("status").innerHTML = "processing...";


})}

// setTimeout(function() {
//   window.onload=Test();
//
//   }, 3000);
// Test();

</script>








</body>
</html>
